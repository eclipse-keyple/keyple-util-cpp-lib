#******************************************************************************
#* Copyright (c) 2025 Calypso Networks Association https://calypsonet.org/    *
#*                                                                            *
#* See the NOTICE file(s) distributed with this work for additional           *
#* information regarding copyright ownership.                                 *
#*                                                                            *
#* This program and the accompanying materials are made available under the   *
#* terms of the Eclipse Public License 2.0 which is available at              *
#* http://www.eclipse.org/legal/epl-2.0                                       *
#*                                                                            *
#* SPDX-License-Identifier: EPL-2.0                                           *
#******************************************************************************/
#**************************************************************************************************/

fail_fast: false

repos:

  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v2.3.0
    hooks:
      - id: check-yaml
      - id: end-of-file-fixer
      - id: trailing-whitespace
        args: [--markdown-linebreak-ext=md]

  - repo: https://github.com/pocc/pre-commit-hooks
    rev: master
    hooks:
      - id: clang-tidy
        name: clang-tidy
        entry: clang-tidy -p=build
                          --system-headers
                          --fix-errors

      # Code formatting (see .clang-format for config used).
      - id: clang-format
        name: clang-format
        args: [-i]

      # Static code analysis (for C++ files).
      - id: cppcheck
        name: cppcheck
        args: [--enable=all,
               --inline-suppr,
               --error-exitcode=1,
               --language=c++,
               --std=c++11,
               --suppressions-list=./.cppcheck.suppress]
        files: \.(cpp|hpp)$

      # Coding style analysis. Based on Google C++ code style.
      # cpplint configuration can be found in CPPLINT.cfg.
      - id: cpplint
